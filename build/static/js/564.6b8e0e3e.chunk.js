"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[564],{3321:function(e,t,n){n(2791);var o=n(184);t.Z=function(){return(0,o.jsx)("h2",{className:"nothing flex-center",children:"Nothing to show"})}},564:function(e,t,n){n.r(t);var o=n(1413),r=n(2791),i=n(456),a=n(1358),l=n(7689),s=n(9434),d=n(7173),c=n(3200),u=n(3321),p=n(184);t.default=function(){var e=(0,s.I0)(),t=(0,l.s0)(),n=(0,s.v9)((function(e){return e.appointment.appointments})),m=(0,s.v9)((function(e){return e.appointment.status})),v=(0,i.Z)(localStorage.getItem("token")).userId;(0,r.useEffect)((function(){e((0,d.jL)())}),[e]);var g=(0,r.useMemo)((function(){return n}),[n]),x=(0,r.useMemo)((function(){return[{Header:"S.No",accessor:function(e,t){return t+1}},{Header:"Doctor",accessor:function(e){var t,n;return"".concat(null===e||void 0===e||null===(t=e.doctorId)||void 0===t?void 0:t.firstname," ").concat(null===e||void 0===e||null===(n=e.doctorId)||void 0===n?void 0:n.lastname)}},{Header:"Patient",accessor:function(e){var t,n;return"".concat(null===e||void 0===e||null===(t=e.userId)||void 0===t?void 0:t.firstname," ").concat(null===e||void 0===e||null===(n=e.userId)||void 0===n?void 0:n.lastname)}},{Header:"Appointment Date",accessor:"date"},{Header:"Appointment Time",accessor:"time"},{Header:"Booking Date",accessor:function(e){return null===e||void 0===e?void 0:e.createdAt.split("T")[0]}},{Header:"Booking Time",accessor:function(e){return null===e||void 0===e?void 0:e.updatedAt.split("T")[1].split(".")[0]}},{Header:"Status",accessor:"status"},{Header:"Action",id:"action",Cell:function(t){var n,o,i,a,l,s,c,u=t.row,m="Completed"===(null===(n=u.original)||void 0===n?void 0:n.status)||"Accepted"===(null===(o=u.original)||void 0===o?void 0:o.status);return v===(null===(i=u.original)||void 0===i||null===(a=i.doctorId)||void 0===a?void 0:a._id)?(0,p.jsxs)(r.Fragment,{children:[(0,p.jsx)("button",{className:"btn bg-green-500 text-white px-4 py-2 m-2 rounded ".concat("Completed"===(null===(l=u.original)||void 0===l?void 0:l.status)?"opacity-50 cursor-not-allowed":""),disabled:"Completed"===(null===(s=u.original)||void 0===s?void 0:s.status),onClick:function(){return t=u.original,void e((0,d.Nu)(t));var t},children:"Complete"}),(0,p.jsxs)("button",{className:"btn bg-green-500 text-white px-4 py-2 m-2 rounded ".concat(m?"opacity-50 cursor-not-allowed":""),disabled:m,onClick:function(){return t=u.original,void e((0,d.tY)(t));var t},children:["Accept ",null===(c=u.original)||void 0===c?void 0:c.status]})]}):null}},{Header:"Chat",id:"chat",Cell:function(e){var n,o=e.row;return["Accepted","Completed"].includes(null===(n=o.original)||void 0===n?void 0:n.status)?(0,p.jsx)("button",{className:"btn bg-blue-500 text-white px-4 py-2 m-2 rounded",onClick:function(){return e=o.original,void t("/appointment/chat/".concat(e._id));var e},children:"Go to Chat"}):null}}]}),[v]),h=(0,a.useTable)({columns:x,data:g}),f=h.getTableProps,b=h.getTableBodyProps,w=h.headerGroups,j=h.rows,y=h.prepareRow;return(0,p.jsx)(p.Fragment,{children:"loading"===m?(0,p.jsx)(c.Z,{}):(0,p.jsxs)("section",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-12",children:[(0,p.jsx)("h2",{className:"text-2xl font-extrabold tracking-tight text-gray-900 sm:text-3xl",children:"Your Appointments"}),n.length>0?(0,p.jsx)("div",{className:"mt-6 overflow-auto",children:(0,p.jsxs)("table",(0,o.Z)((0,o.Z)({},f()),{},{className:"min-w-full divide-y divide-gray-200",children:[(0,p.jsx)("thead",{children:w.map((function(e){return(0,p.jsx)("tr",(0,o.Z)((0,o.Z)({},e.getHeaderGroupProps()),{},{className:"bg-gray-50",children:e.headers.map((function(e){return(0,p.jsx)("th",(0,o.Z)((0,o.Z)({},e.getHeaderProps()),{},{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e.render("Header")}))}))}))}))}),(0,p.jsx)("tbody",(0,o.Z)((0,o.Z)({},b()),{},{className:"bg-white divide-y divide-gray-200",children:j.map((function(e){return y(e),(0,p.jsx)("tr",(0,o.Z)((0,o.Z)({},e.getRowProps()),{},{className:"hover:bg-gray-100 transition ease-in-out duration-200",children:e.cells.map((function(e){return(0,p.jsx)("td",(0,o.Z)((0,o.Z)({},e.getCellProps()),{},{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.render("Cell")}))}))}))}))}))]}))}):(0,p.jsx)(u.Z,{})]})})}}}]);
//# sourceMappingURL=564.6b8e0e3e.chunk.js.map